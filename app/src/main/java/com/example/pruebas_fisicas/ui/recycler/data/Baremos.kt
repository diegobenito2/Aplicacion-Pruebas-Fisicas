// Función genérica para calcular la nota basada en los baremos
fun calcularNotaGenerica(resultado: Float, baremo: List<Pair<Float, String>>): Float {
    for ((limite, nota) in baremo) {
        if (resultado >= limite) {
            return nota.toFloat()
        }
    }
    return 0f
}

// Función principal para calcular la nota
fun calcularNota(nombrePrueba: String, resultado: Float, edad: Int, sexo: String): Float {
    return when (nombrePrueba) {
        "Abdominales 30s" -> calcularNotaGenerica(
            resultado,
            baremoAbdominales[sexo]?.get(edad) ?: listOf()
        )

        "Flexión de tronco sentado" -> calcularNotaGenerica(
            resultado,
            baremoFlexibilidad[sexo]?.get(edad) ?: listOf()
        )

        "Test de Cooper" -> calcularNotaGenerica(
            resultado,
            baremoTestCooper[sexo]?.get(edad) ?: listOf()
        )

        "Carrera ida y vuelta 10x5m" -> calcularNotaGenerica(
            resultado,
            baremoVelocidad[sexo]?.get(edad) ?: listOf()
        )

        "Lanzamiento de balón medicinal" -> calcularNotaGenerica(
            resultado,
            baremoLanzamiento[sexo]?.get(edad) ?: listOf()
        )

        else -> 0f
    }
}

// Definición de los baremos para cada prueba
val baremoAbdominales = mapOf(
    "Masculino" to mapOf(
        12 to listOf(
            30f to "10",
            29f to "9.5",
            28f to "9",
            27f to "8.5",
            26f to "8",
            25f to "7.5",
            24f to "7",
            23f to "6.5",
            22f to "6",
            21f to "5.5",
            20f to "5",
            19f to "4.5",
            18f to "4",
            17f to "3.5",
            16f to "3",
            15f to "2.5",
            14f to "2"
        ),
        13 to listOf(
            32f to "10",
            31f to "9.5",
            30f to "9",
            29f to "8.5",
            28f to "8",
            27f to "7.5",
            26f to "7",
            25f to "6.5",
            24f to "6",
            23f to "5.5",
            22f to "5",
            21f to "4.5",
            20f to "4",
            19f to "3.5",
            18f to "3",
            17f to "2.5",
            16f to "2"
        ),
        14 to listOf(
            33f to "10",
            32f to "9.5",
            31f to "9",
            30f to "8.5",
            29f to "8",
            28f to "7.5",
            27f to "7",
            26f to "6.5",
            25f to "6",
            24f to "5.5",
            23f to "5",
            22f to "4.5",
            21f to "4",
            20f to "3.5",
            19f to "3",
            18f to "2.5",
            17f to "2"
        ),
        15 to listOf(
            36f to "10",
            35f to "9.5",
            34f to "9",
            33f to "8.5",
            32f to "8",
            31f to "7.5",
            30f to "7",
            29f to "6.5",
            28f to "6",
            27f to "5.5",
            26f to "5",
            25f to "4.5",
            24f to "4",
            23f to "3.5",
            22f to "3",
            21f to "2.5",
            20f to "2"
        ),
        16 to listOf(
            38f to "10",
            37f to "9.5",
            36f to "9",
            35f to "8.5",
            34f to "8",
            33f to "7.5",
            32f to "7",
            31f to "6.5",
            30f to "6",
            29f to "5.5",
            28f to "5",
            27f to "4.5",
            26f to "4",
            25f to "3.5",
            24f to "3",
            23f to "2.5",
            22f to "2"
        )
    ),
    "Femenino" to mapOf(
        12 to listOf(
            30f to "10",
            29f to "9.5",
            28f to "9",
            27f to "8.5",
            26f to "8",
            25f to "7.5",
            24f to "7",
            23f to "6.5",
            22f to "6",
            21f to "5.5",
            20f to "5",
            19f to "4.5",
            18f to "4",
            17f to "3.5",
            16f to "3",
            15f to "2.5",
            14f to "2"
        ),
        13 to listOf(
            32f to "10",
            31f to "9.5",
            30f to "9",
            29f to "8.5",
            28f to "8",
            27f to "7.5",
            26f to "7",
            25f to "6.5",
            24f to "6",
            23f to "5.5",
            22f to "5",
            21f to "4.5",
            20f to "4",
            19f to "3.5",
            18f to "3",
            17f to "2.5",
            16f to "2"
        ),
        14 to listOf(
            33f to "10",
            32f to "9.5",
            31f to "9",
            30f to "8.5",
            29f to "8",
            28f to "7.5",
            27f to "7",
            26f to "6.5",
            25f to "6",
            24f to "5.5",
            23f to "5",
            22f to "4.5",
            21f to "4",
            20f to "3.5",
            19f to "3",
            18f to "2.5",
            17f to "2"
        ),
        15 to listOf(
            35f to "10",
            34f to "9.5",
            33f to "9",
            32f to "8.5",
            31f to "8",
            30f to "7.5",
            29f to "7",
            28f to "6.5",
            27f to "6",
            26f to "5.5",
            25f to "5",
            24f to "4.5",
            23f to "4",
            22f to "3.5",
            21f to "3",
            20f to "2.5",
            19f to "2"
        ),
        16 to listOf(
            37f to "10",
            36f to "9.5",
            35f to "9",
            34f to "8.5",
            33f to "8",
            32f to "7.5",
            31f to "7",
            30f to "6.5",
            29f to "6",
            28f to "5.5",
            27f to "5",
            26f to "4.5",
            25f to "4",
            24f to "3.5",
            23f to "3",
            22f to "2.5",
            21f to "2"
        )
    )
)
val baremoFlexibilidad = mapOf(
    "Masculino" to mapOf(
        12 to listOf(
            7f to "10",
            5f to "9.5",
            3f to "9",
            3f to "8.5",
            1f to "8",
            0f to "7.5",
            -1f to "7",
            -2f to "6.5",
            -4f to "6",
            -6f to "5.5",
            -8f to "5",
            -10f to "4.5",
            -12f to "4",
            -14f to "3.5",
            -16f to "3",
            -18f to "2.5",
            -20f to "2"
        ),
        13 to listOf(
            12f to "10",
            10f to "9.5",
            8f to "9",
            6f to "8.5",
            4f to "8",
            3f to "7.5",
            2f to "7",
            1f to "6.5",
            0f to "6",
            -1f to "5.5",
            -2f to "5",
            -4f to "4.5",
            -6f to "4",
            -8f to "3.5",
            -10f to "3",
            -12f to "2.5",
            -14f to "2"
        ),
        14 to listOf(
            13f to "10",
            11f to "9.5",
            9f to "9",
            7f to "8.5",
            5f to "8",
            3f to "7.5",
            1f to "7",
            0f to "6.5",
            -1f to "6",
            -2f to "5.5",
            -3f to "5",
            -4f to "4.5",
            -5f to "4",
            -6f to "3.5",
            -7f to "3",
            -8f to "2.5",
            -9f to "2"
        ),
        15 to listOf(
            15f to "10",
            13f to "9.5",
            11f to "9",
            9f to "8.5",
            7f to "8",
            5f to "7.5",
            4f to "7",
            3f to "6.5",
            2f to "6",
            1f to "5.5",
            0f to "5",
            -2f to "4.5",
            -4f to "4",
            -6f to "3.5",
            -7f to "3",
            -8f to "2.5",
            -9f to "2"
        ),
        16 to listOf(
            15f to "10",
            13f to "9.5",
            11f to "9",
            9f to "8.5",
            7f to "8",
            5f to "7.5",
            4f to "7",
            3f to "6.5",
            2f to "6",
            1f to "5.5",
            0f to "5",
            -2f to "4.5",
            -4f to "4",
            -6f to "3.5",
            -7f to "3",
            -8f to "2.5",
            -9f to "2"
        )
    ),
    "Femenino" to mapOf(
        12 to listOf(
            7f to "10",
            5f to "9.5",
            3f to "9",
            3f to "8.5",
            1f to "8",
            0f to "7.5",
            -1f to "7",
            -2f to "6.5",
            -4f to "6",
            -6f to "5.5",
            -8f to "5",
            -10f to "4.5",
            -12f to "4",
            -14f to "3.5",
            -16f to "3",
            -18f to "2.5",
            -20f to "2"
        ),
        13 to listOf(
            12f to "10",
            10f to "9.5",
            8f to "9",
            6f to "8.5",
            4f to "8",
            3f to "7.5",
            2f to "7",
            1f to "6.5",
            0f to "6",
            -1f to "5.5",
            -2f to "5",
            -4f to "4.5",
            -6f to "4",
            -8f to "3.5",
            -10f to "3",
            -12f to "2.5",
            -14f to "2"
        ),
        14 to listOf(
            15f to "10",
            13f to "9.5",
            11f to "9",
            9f to "8.5",
            7f to "8",
            5f to "7.5",
            4f to "7",
            3f to "6.5",
            2f to "6",
            1f to "5.5",
            0f to "5",
            -2f to "4.5",
            -4f to "4",
            -6f to "3.5",
            -7f to "3",
            -8f to "2.5",
            -9f to "2"
        ),
        15 to listOf(
            17f to "10",
            15f to "9.5",
            13f to "9",
            11f to "8.5",
            9f to "8",
            7f to "7.5",
            5f to "7",
            4f to "6.5",
            3f to "6",
            2f to "5.5",
            1f to "5",
            0f to "4.5",
            -2f to "4",
            -4f to "3.5",
            -6f to "3",
            -7f to "2.5",
            -8f to "2"
        ),
        16 to listOf(
            17f to "10",
            15f to "9.5",
            13f to "9",
            11f to "8.5",
            9f to "8",
            7f to "7.5",
            5f to "7",
            4f to "6.5",
            3f to "6",
            2f to "5.5",
            1f to "5",
            0f to "4.5",
            -2f to "4",
            -4f to "3.5",
            -6f to "3",
            -7f to "2.5",
            -8f to "2"
        )
    )
)
val baremoTestCooper = mapOf(
    "Masculino" to mapOf(
        12 to listOf(
            2600f to "10",
            2400f to "9.5",
            2200f to "9",
            2100f to "8.5",
            2000f to "8",
            1950f to "7.5",
            1900f to "7",
            1850f to "6.5",
            1800f to "6",
            1750f to "5.5",
            1700f to "5",
            1650f to "4.5",
            1600f to "4",
            1550f to "3.5",
            1500f to "3",
            1450f to "2.5",
            1400f to "2"
        ),
        13 to listOf(
            2650f to "10",
            2475f to "9.5",
            2300f to "9",
            2200f to "8.5",
            2100f to "8",
            2050f to "7.5",
            2000f to "7",
            1950f to "6.5",
            1900f to "6",
            1850f to "5.5",
            1800f to "5",
            1750f to "4.5",
            1700f to "4",
            1650f to "3.5",
            1600f to "3",
            1550f to "2.5",
            1500f to "2"
        ),
        14 to listOf(
            2650f to "10",
            2525f to "9.5",
            2400f to "9",
            2300f to "8.5",
            2200f to "8",
            2150f to "7.5",
            2100f to "7",
            2050f to "6.5",
            2000f to "6",
            1950f to "5.5",
            1900f to "5",
            1850f to "4.5",
            1800f to "4",
            1750f to "3.5",
            1700f to "3",
            1650f to "2.5",
            1600f to "2"
        ),
        15 to listOf(
            2750f to "10",
            2625f to "9.5",
            2500f to "9",
            2400f to "8.5",
            2300f to "8",
            2250f to "7.5",
            2200f to "7",
            2150f to "6.5",
            2100f to "6",
            2050f to "5.5",
            2000f to "5",
            1950f to "4.5",
            1900f to "4",
            1850f to "3.5",
            1800f to "3",
            1750f to "2.5",
            1700f to "2"
        ),
        16 to listOf(
            2800f to "10",
            2650f to "9.5",
            2500f to "9",
            2450f to "8.5",
            2400f to "8",
            2350f to "7.5",
            2300f to "7",
            2250f to "6.5",
            2200f to "6",
            2150f to "5.5",
            2100f to "5",
            2050f to "4.5",
            2000f to "4",
            1950f to "3.5",
            1900f to "3",
            1850f to "2.5",
            1800f to "2"
        )
    ), "Femenino" to mapOf(
        14 to listOf(
            2200f to "10",
            2050f to "9.5",
            1900f to "9",
            1850f to "8.5",
            1800f to "8",
            1750f to "7.5",
            1700f to "7",
            1650f to "6.5",
            1600f to "6",
            1550f to "5.5",
            1500f to "5",
            1450f to "4.5",
            1400f to "4",
            1350f to "3.5",
            1300f to "3",
            1250f to "2.5",
            1200f to "2"
        ),
        15 to listOf(
            2250f to "10",
            2150f to "9.5",
            2050f to "9",
            1975f to "8.5",
            1900f to "8",
            1850f to "7.5",
            1800f to "7",
            1750f to "6.5",
            1700f to "6",
            1650f to "5.5",
            1600f to "5",
            1550f to "4.5",
            1500f to "4",
            1450f to "3.5",
            1400f to "3",
            1350f to "2.5",
            1300f to "2"
        ),
        16 to listOf(
            2300f to "10",
            2200f to "9.5",
            2100f to "9",
            2025f to "8.5",
            1950f to "8",
            1900f to "7.5",
            1850f to "7",
            1800f to "6.5",
            1750f to "6",
            1700f to "5.5",
            1650f to "5",
            1600f to "4.5",
            1550f to "4",
            1500f to "3.5",
            1450f to "3",
            1400f to "2.5",
            1350f to "2"
        )
    )
)
val baremoVelocidad = mapOf(
    "Masculino" to mapOf(
        14 to listOf(
            11f to "10",
            12.6f to "9.5",
            12.8f to "9",
            13f to "8.5",
            13.2f to "8",
            13.4f to "7.5",
            13.6f to "7",
            13.8f to "6.5",
            14f to "6",
            14.2f to "5.5",
            14.4f to "5",
            14.6f to "4.5",
            15f to "4",
            15.2f to "3.5",
            15.4f to "3",
            15.6f to "2.5",
            15.8f to "2"
        ),
        15 to listOf(
            11f to "10",
            12.3f to "9.5",
            12.5f to "9",
            12.7f to "8.5",
            12.9f to "8",
            13.1f to "7.5",
            13.3f to "7",
            13.5f to "6.5",
            13.7f to "6",
            13.9f to "5.5",
            14.1f to "5",
            14.3f to "4.5",
            14.5f to "4",
            14.7f to "3.5",
            14.9f to "3",
            15.1f to "2.5",
            15.3f to "2"
        ),
        16 to listOf(
            11f to "10",
            12f to "9.5",
            12.2f to "9",
            12.4f to "8.5",
            12.6f to "8",
            12.8f to "7.5",
            13f to "7",
            13.2f to "6.5",
            13.4f to "6",
            13.6f to "5.5",
            13.8f to "5",
            14f to "4.5",
            14.2f to "4",
            14.4f to "3.5",
            14.6f to "3",
            14.8f to "2.5",
            15f to "2"
        )
    ),
    "Femenino" to mapOf(
        14 to listOf(
            11f to "10",
            13.4f to "9.5",
            13.6f to "9",
            13.8f to "8.5",
            14f to "8",
            14.2f to "7.5",
            14.4f to "7",
            14.6f to "6.5",
            14.8f to "6",
            15f to "5.5",
            15.2f to "5",
            15.4f to "4.5",
            15.6f to "4",
            15.8f to "3.5",
            16f to "3",
            16.2f to "2.5",
            16.4f to "2"
        ),
        15 to listOf(
            11f to "10",
            13.1f to "9.5",
            13.3f to "9",
            13.5f to "8.5",
            13.7f to "8",
            13.9f to "7.5",
            14.1f to "7",
            14.3f to "6.5",
            14.5f to "6",
            14.7f to "5.5",
            14.9f to "5",
            15.1f to "4.5",
            15.3f to "4",
            15.5f to "3.5",
            15.7f to "3",
            15.9f to "2.5",
            16.1f to "2"
        ),
        16 to listOf(
            11f to "10",
            12.8f to "9.5",
            13f to "9",
            13.2f to "8.5",
            13.4f to "8",
            13.6f to "7.5",
            13.8f to "7",
            14f to "6.5",
            14.2f to "6",
            14.4f to "5.5",
            14.6f to "5",
            14.8f to "4.5",
            15f to "4",
            15.2f to "3.5",
            15.4f to "3",
            15.6f to "2.5",
            18.8f to "2"
        )
    )
)
val baremoLanzamiento = mapOf(
    "Masculino" to mapOf(
        15 to listOf(
            8.50f to "10",
            8.20f to "9.5",
            7.90f to "9",
            7.60f to "8.5",
            7.30f to "8",
            7.00f to "7.5",
            6.70f to "7",
            6.40f to "6.5",
            6.10f to "6",
            5.80f to "5.5",
            5.50f to "5",
            5.20f to "4.5",
            5.00f to "4",
            4.70f to "3.5",
            4.40f to "3",
            4.10f to "2.5",
            3.80f to "2"
        ),
        16 to listOf(
            8.70f to "10",
            8.40f to "9.5",
            8.10f to "9",
            7.80f to "8.5",
            7.50f to "8",
            7.20f to "7.5",
            6.90f to "7",
            6.60f to "6.5",
            6.30f to "6",
            6.10f to "5.5",
            5.90f to "5",
            5.70f to "4.5",
            5.50f to "4",
            5.30f to "3.5",
            5.10f to "3",
            4.90f to "2.5",
            4.70f to "2"
        )
    ),
    "Femenino" to mapOf(
        15 to listOf(
            8.50f to "10",
            8.20f to "9.5",
            7.90f to "9",
            7.60f to "8.5",
            7.30f to "8",
            7.00f to "7.5",
            6.70f to "7",
            6.40f to "6.5",
            6.10f to "6",
            5.80f to "5.5",
            5.50f to "5",
            5.20f to "4.5",
            5.00f to "4",
            4.70f to "3.5",
            4.40f to "3",
            4.10f to "2.5",
            3.80f to "2"
        ),
        16 to listOf(
            8.70f to "10",
            8.40f to "9.5",
            8.10f to "9",
            7.80f to "8.5",
            7.50f to "8",
            7.20f to "7.5",
            6.90f to "7",
            6.60f to "6.5",
            6.30f to "6",
            6.10f to "5.5",
            5.90f to "5",
            5.70f to "4.5",
            5.50f to "4",
            5.30f to "3.5",
            5.10f to "3",
            4.90f to "2.5",
            4.70f to "2"
        )
    )
)


